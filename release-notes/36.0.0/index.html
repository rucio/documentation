<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-release-notes/36.0.0" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">36.0.0 | Rucio Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://rucio.github.io/documentation/release-notes/36.0.0"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="36.0.0 | Rucio Documentation"><meta data-rh="true" name="description" content="Important changes"><meta data-rh="true" property="og:description" content="Important changes"><link data-rh="true" rel="icon" href="/documentation/img/android-chrome-512x512.png"><link data-rh="true" rel="canonical" href="https://rucio.github.io/documentation/release-notes/36.0.0"><link data-rh="true" rel="alternate" href="https://rucio.github.io/documentation/release-notes/36.0.0" hreflang="en"><link data-rh="true" rel="alternate" href="https://rucio.github.io/documentation/release-notes/36.0.0" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://NDP6TP9QYQ-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Rucio Documentation" href="/documentation/opensearch.xml">
<link rel="stylesheet" href="/documentation/css/custom.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:400,500,700&display=swap">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Rubik:400,500,700&display=swap">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap">
<script src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/documentation/assets/css/styles.ba9ba7c4.css">
<script src="/documentation/assets/js/runtime~main.4b5921c1.js" defer="defer"></script>
<script src="/documentation/assets/js/main.1a5b2890.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/documentation/img/rucio_horizontaled_black.svg"><link rel="preload" as="image" href="/documentation/img/rucio_horizontaled_white.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/documentation/"><div class="navbar__logo"><img src="/documentation/img/rucio_horizontaled_black.svg" alt="" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/documentation/img/rucio_horizontaled_white.svg" alt="" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Rucio Documentation</b></a><a href="/documentation/html/client_api/accountclient.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Python Client API</a><a class="navbar__item navbar__link" href="/documentation/bin/rucio">Command Line Client</a><a href="/documentation/html/rest_api_doc.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">REST API</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>36.0.0</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="important-changes">Important changes<a href="#important-changes" class="hash-link" aria-label="Direct link to Important changes" title="Direct link to Important changes">​</a></h2>
<ul>
<li>For <strong>policy package operators</strong>: Rucio 36 includes a breaking change in the way the <strong>supported Rucio version</strong> is configured. With this change, the version with PEP-compliant version specifier; you can find the specification for the version specifiers here: <a href="https://peps.python.org/pep-0440/#version-specifiers" target="_blank" rel="noopener noreferrer">https://peps.python.org/pep-0440/#version-specifiers</a> In order to migrate to the new format, you simply need to add a version specifier comparison operator to the <code>SUPPORTED_VERSION</code> line in your policy package. For example, if you only want to support the entire Rucio <code>36</code> release line (so 36.1.0, 36.2.0...) without yet supporting Rucio <code>37</code>, you can use the <a href="https://peps.python.org/pep-0440/#compatible-release" target="_blank" rel="noopener noreferrer">compatible release operator</a> <code>~=</code>, as seen below.
Before Rucio 36:
<code>SUPPORTED_VERSION = &#x27;36&#x27;</code>
From Rucio 36 onwards:
<code>SUPPORTED_VERSION = &#x27;~=36.0&#x27;</code></li>
<li>This release offers a complete re-structuring of the Rucio Command Line Interface. Our objective was to offer a more consistent CLI experience, similar to other commonly used CLIs. This new structure should be considered as a <strong>pre-release</strong> state, thus some adjustments are still to be expected over the coming months. To report issues or suggestions please report them in issue <a href="https://github.com/rucio/rucio/issues/7224" target="_blank" rel="noopener noreferrer">#7224</a>. We will announce at a later time once the new CLI structure is considered fully stable.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="technology-preview-rich-client-output">Technology Preview: Rich Client Output<a href="#technology-preview-rich-client-output" class="hash-link" aria-label="Direct link to Technology Preview: Rich Client Output" title="Direct link to Technology Preview: Rich Client Output">​</a></h2>
<p>This release features an experimental use of the <a href="https://github.com/Textualize/rich" target="_blank" rel="noopener noreferrer">Rich</a> library in the Rucio command-line client.
Rich offers an improved interface, with colour output, prettier tables, use of markup, a spinner for long operations, and more.
In addition, the output of a command is displayed through the use of a pager.</p>
<p>The use of Rich has to be explicitly enabled by adding the following to the client’s configuration file <code>rucio.cfg</code>:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[experimental]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cli = rich</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>At this time, we recommend that Rucio developers and power users enable the use of Rich and report issues. The plan is make Rich the default in the next Rucio major release and eventually eliminate the use of the tabulate library.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="general">General<a href="#general" class="hash-link" aria-label="Direct link to General" title="Direct link to General">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="features">Features<a href="#features" class="hash-link" aria-label="Direct link to Features" title="Direct link to Features">​</a></h3>
<ul>
<li>Policies: Prepare replacement of current policy import with policy packages <a href="https://github.com/rucio/rucio/issues/4798" target="_blank" rel="noopener noreferrer">#4798</a></li>
<li>Policies: Policy package version support: specifying each supported major version (current way of doing things) vs specifying a minimum valid version (proposal) <a href="https://github.com/rucio/rucio/issues/7082" target="_blank" rel="noopener noreferrer">#7082</a></li>
<li>Testing: Move ATLAS VO test to use policy package <a href="https://github.com/rucio/rucio/issues/6962" target="_blank" rel="noopener noreferrer">#6962</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="enhancements">Enhancements<a href="#enhancements" class="hash-link" aria-label="Direct link to Enhancements" title="Direct link to Enhancements">​</a></h3>
<ul>
<li>Policies: Allow permissions to optionally return a message <a href="https://github.com/rucio/rucio/issues/6580" target="_blank" rel="noopener noreferrer">#6580</a></li>
<li>Policies: &quot;diff&quot;-based policies, instead of fully replicating the base policy package code <a href="https://github.com/rucio/rucio/issues/6842" target="_blank" rel="noopener noreferrer">#6842</a></li>
<li>Policies: Refactor all ATLAS-related code into ATLAS policy package <a href="https://github.com/rucio/rucio/issues/7027" target="_blank" rel="noopener noreferrer">#7027</a></li>
<li>Policies: Policy package version check: instead of parsing string manually, use <code>packaging.version.Version</code> <a href="https://github.com/rucio/rucio/issues/7083" target="_blank" rel="noopener noreferrer">#7083</a></li>
<li>Policies: Extraction of Belle II logic to policy package <a href="https://github.com/rucio/rucio/issues/7157" target="_blank" rel="noopener noreferrer">#7157</a></li>
<li>Protocols: Use <code>abstractmethod</code> decorator in place of <code>NotImplementedError</code> in instances where we&#x27;re using <code>NotImplementedError</code> to mark an abstract method <a href="https://github.com/rucio/rucio/issues/7031" target="_blank" rel="noopener noreferrer">#7031</a></li>
<li>Release management: Unneeded dev dependency <code>virtualenv</code> <a href="https://github.com/rucio/rucio/issues/7140" target="_blank" rel="noopener noreferrer">#7140</a></li>
<li>Testing: Introduce test coverage in PR reviews (and possibly in CI) <a href="https://github.com/rucio/rucio/issues/6545" target="_blank" rel="noopener noreferrer">#6545</a></li>
<li>Testing: Better define unit tests and integ tests <a href="https://github.com/rucio/rucio/issues/7007" target="_blank" rel="noopener noreferrer">#7007</a></li>
<li>Testing: Improve test coverage <a href="https://github.com/rucio/rucio/issues/7008" target="_blank" rel="noopener noreferrer">#7008</a></li>
<li>Testing: Release 36 type annotations <a href="https://github.com/rucio/rucio/issues/7021" target="_blank" rel="noopener noreferrer">#7021</a></li>
<li>Testing: Remove unnecessary <code>test_download_states</code> <a href="https://github.com/rucio/rucio/issues/7070" target="_blank" rel="noopener noreferrer">#7070</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bugs">Bugs<a href="#bugs" class="hash-link" aria-label="Direct link to Bugs" title="Direct link to Bugs">​</a></h3>
<ul>
<li>Authentication &amp; Authorisation: Permissions: Unify the permissions for <code>add_did</code> and <code>add_dids</code> <a href="https://github.com/rucio/rucio/issues/6973" target="_blank" rel="noopener noreferrer">#6973</a></li>
<li>Deletion: Reaper fails to delete files in S3 based RSEs <a href="https://github.com/rucio/rucio/issues/6548" target="_blank" rel="noopener noreferrer">#6548</a></li>
<li>Documentation: Importing a schema from a policy package with a <code>lfn2pfn</code> algorithm results in circular imports due to module-level logic <a href="https://github.com/rucio/rucio/issues/7165" target="_blank" rel="noopener noreferrer">#7165</a></li>
<li>Fix <code>TripleDES</code> issue that&#x27;s blocking <code>cryptography</code> dependency update  <a href="https://github.com/rucio/rucio/issues/7075" target="_blank" rel="noopener noreferrer">#7075</a></li>
<li>Protocols: RSEProtocol crashes if <code>protocol_attr</code> doesn&#x27;t have <code>auth_token</code> <a href="https://github.com/rucio/rucio/issues/7023" target="_blank" rel="noopener noreferrer">#7023</a></li>
<li>REST &amp; API: Align recursive Parameter Handling and Documentation in Scope API Endpoint <a href="https://github.com/rucio/rucio/issues/7175" target="_blank" rel="noopener noreferrer">#7175</a></li>
<li>Release management: Version block is outdated for minimum Python version <a href="https://github.com/rucio/rucio/issues/7182" target="_blank" rel="noopener noreferrer">#7182</a></li>
<li>Testing: VO tests: Belle II test failing due to using deprecated policy package version syntax for <code>SUPPORTED_VERSION</code> <a href="https://github.com/rucio/rucio/issues/7186" target="_blank" rel="noopener noreferrer">#7186</a></li>
<li>Transfers: Automatix crash if one destination RSE is not available <a href="https://github.com/rucio/rucio/issues/6925" target="_blank" rel="noopener noreferrer">#6925</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="clients">Clients<a href="#clients" class="hash-link" aria-label="Direct link to Clients" title="Direct link to Clients">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="features-1">Features<a href="#features-1" class="hash-link" aria-label="Direct link to Features" title="Direct link to Features">​</a></h3>
<ul>
<li>Clients: Re-write and standardization of client command structure <a href="https://github.com/rucio/rucio/issues/6639" target="_blank" rel="noopener noreferrer">#6639</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="enhancements-1">Enhancements<a href="#enhancements-1" class="hash-link" aria-label="Direct link to Enhancements" title="Direct link to Enhancements">​</a></h3>
<ul>
<li>Clients: Use the rich library to enhance the command-line client commands <a href="https://github.com/rucio/rucio/issues/6987" target="_blank" rel="noopener noreferrer">#6987</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/rucio/documentation/tree/main/docs/../docs/release-notes/36.0.0.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#important-changes" class="table-of-contents__link toc-highlight">Important changes</a></li><li><a href="#technology-preview-rich-client-output" class="table-of-contents__link toc-highlight">Technology Preview: Rich Client Output</a></li><li><a href="#general" class="table-of-contents__link toc-highlight">General</a><ul><li><a href="#features" class="table-of-contents__link toc-highlight">Features</a></li><li><a href="#enhancements" class="table-of-contents__link toc-highlight">Enhancements</a></li><li><a href="#bugs" class="table-of-contents__link toc-highlight">Bugs</a></li></ul></li><li><a href="#clients" class="table-of-contents__link toc-highlight">Clients</a><ul><li><a href="#features-1" class="table-of-contents__link toc-highlight">Features</a></li><li><a href="#enhancements-1" class="table-of-contents__link toc-highlight">Enhancements</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/documentation/img/rucio_horizontaled_black.svg" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/documentation/img/rucio_horizontaled_white.svg" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></div><div class="footer__copyright">Copyright © 2023 CERN</div></div></div></footer></div>
</body>
</html>