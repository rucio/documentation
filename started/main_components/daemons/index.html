<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-started/main_components/daemons" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Rucio Daemons | Rucio Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://rucio.github.io/documentation/started/main_components/daemons"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Rucio Daemons | Rucio Documentation"><meta data-rh="true" name="description" content="Rucio relies on several daemons (processes) to perform different logic."><meta data-rh="true" property="og:description" content="Rucio relies on several daemons (processes) to perform different logic."><link data-rh="true" rel="icon" href="/documentation/img/android-chrome-512x512.png"><link data-rh="true" rel="canonical" href="https://rucio.github.io/documentation/started/main_components/daemons"><link data-rh="true" rel="alternate" href="https://rucio.github.io/documentation/started/main_components/daemons" hreflang="en"><link data-rh="true" rel="alternate" href="https://rucio.github.io/documentation/started/main_components/daemons" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://NDP6TP9QYQ-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Main Components","item":"https://rucio.github.io/documentation/started/main_components/"},{"@type":"ListItem","position":2,"name":"Rucio Daemons","item":"https://rucio.github.io/documentation/started/main_components/daemons"}]}</script><link rel="search" type="application/opensearchdescription+xml" title="Rucio Documentation" href="/documentation/opensearch.xml">

<link rel="stylesheet" href="/documentation/css/custom.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:400,500,700&display=swap">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Rubik:400,500,700&display=swap">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap">
<script src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/documentation/assets/css/styles.1dc85473.css">
<script src="/documentation/assets/js/runtime~main.ddab1e15.js" defer="defer"></script>
<script src="/documentation/assets/js/main.372f2d43.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/documentation/img/rucio_horizontaled_black.svg"><link rel="preload" as="image" href="/documentation/img/rucio_horizontaled_white.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/documentation/"><div class="navbar__logo"><img src="/documentation/img/rucio_horizontaled_black.svg" alt="" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/documentation/img/rucio_horizontaled_white.svg" alt="" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Rucio Documentation</b></a><a href="/documentation/html/client_api/accountclient.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Python Client API</a><a class="navbar__item navbar__link" href="/documentation/bin/rucio">Command Line Client</a><a href="/documentation/html/rest_api_doc.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">REST API</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/documentation/">Welcome</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/documentation/started/before_you_get_started">Getting Started</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/started/before_you_get_started">Before you get started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/started/what_is_rucio">What is Rucio?</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/documentation/started/main_components/">Main Components</a><button aria-label="Collapse sidebar category &#x27;Main Components&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/documentation/started/main_components/daemons">Rucio Daemons</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/started/additional_layers_and_resources">Additional Layers and Resources</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/documentation/started/concepts/accounting_and_quota">Concepts</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/started/releasepolicy">Release Policy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/started/requirements">Requirements</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/release-notes">Release Notes</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/documentation/user/setting_up_the_rucio_client">User</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/documentation/operator/setting_up_demo">Operator</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/documentation/developer/dependency_management">Developer</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/documentation/project_organisation">About Us</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/documentation/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Getting Started</span></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/documentation/started/main_components/"><span>Main Components</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Rucio Daemons</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Rucio Daemons</h1></header><p>Rucio relies on several daemons (processes) to perform different logic.
Most of the daemons connect to the DB to read some data, perform some computation,
and then write some data back into the DB.</p>
<p>Usually one daemon will create some work for another daemon and vice-versa.
In Rucio realm, daemons communicate to others by the DB.
The following table represents a high level view of the responsibility of each of the daemons and basic functionality.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="daemons">Daemons<a href="#daemons" class="hash-link" aria-label="Direct link to Daemons" title="Direct link to Daemons">​</a></h2>
<table><thead><tr><th>Name</th><th>Domain</th><th>Purpose</th><th>Batched?</th><th>Threaded?</th><th>Multi-VO?</th><th>Details</th></tr></thead><tbody><tr><td>rucio-abacus-account</td><td>Accounting</td><td>Account usage</td><td>❌</td><td>✅</td><td>❌</td><td><a href="/documentation/bin/rucio-abacus-account">Details</a></td></tr><tr><td>rucio-abacus-collection-replica</td><td>Accounting</td><td>Updates collection replicas</td><td>❌</td><td>✅</td><td>❌</td><td><a href="/documentation/bin/rucio-abacus-collection-replica">Details</a></td></tr><tr><td>rucio-abacus-rse</td><td>Accounting</td><td>Updates RSE counters</td><td>❌</td><td>✅</td><td>❌</td><td><a href="/documentation/bin/rucio-abacus-rse">Details</a></td></tr><tr><td>rucio-atropos</td><td>Replica</td><td>End the life of the rules according to the Lifetime Model</td><td>❌</td><td>✅</td><td>❌</td><td><a href="/documentation/bin/rucio-atropos">Details</a></td></tr><tr><td>rucio-auditor</td><td>Replica</td><td>Find inconsistencies on storage, for example, dark data discovery</td><td>❌</td><td>✅</td><td>❌</td><td><a href="/documentation/bin/rucio-auditor">Details</a></td></tr><tr><td>rucio-automatix</td><td>Replica</td><td>Used for testing: injects random data in RSEs to check liveness</td><td>❌</td><td>✅</td><td>❌</td><td><a href="/documentation/bin/rucio-automatix">Details</a></td></tr><tr><td>rucio-bb8</td><td>Replica</td><td>Rebalance data across RSEs</td><td>❌</td><td>✅</td><td>❌</td><td><a href="/documentation/bin/rucio-bb8">Details</a></td></tr><tr><td>rucio-cache-client</td><td>Replica</td><td>Populates information of replicas on volatile storage</td><td>❌</td><td>❌</td><td>❌</td><td><a href="/documentation/bin/rucio-cache-client">Details</a></td></tr><tr><td>rucio-cache-consumer</td><td>Replica</td><td>Adds and deletes cache replicas to the Rucio catalog</td><td>❌</td><td>✅</td><td>❌</td><td><a href="/documentation/bin/rucio-cache-consumer">Details</a></td></tr><tr><td>rucio-conveyor-finisher</td><td>Transfer</td><td>Updates Rucio internal state after the file transfer has finished</td><td>✅</td><td>✅</td><td>✅</td><td><a href="/documentation/bin/rucio-conveyor-finisher">Details</a></td></tr><tr><td>rucio-conveyor-poller</td><td>Transfer</td><td>Polls updates from the transfer tool to check the transfer state</td><td>✅</td><td>✅</td><td>❌</td><td><a href="/documentation/bin/rucio-conveyor-poller">Details</a></td></tr><tr><td>rucio-conveyor-preparer</td><td>Transfer</td><td>Prepares data transfers</td><td>✅</td><td>✅</td><td>❌</td><td><a href="/documentation/bin/rucio-conveyor-preparer">Details</a></td></tr><tr><td>rucio-conveyor-receiver</td><td>Transfer</td><td>Sister of poller, instead of polling for updates, it reads transfer tools notifications to check transfer state</td><td>❌</td><td>✅</td><td>❌</td><td><a href="/documentation/bin/rucio-conveyor-receiver">Details</a></td></tr><tr><td>rucio-conveyor-stager</td><td>Transfer</td><td>Issues staging (bring online) requests to tape RSEs</td><td>✅</td><td>✅</td><td>✅</td><td><a href="/documentation/bin/rucio-conveyor-stager">Details</a></td></tr><tr><td>rucio-conveyor-submitter</td><td>Transfer</td><td>Submit transfer requests to the transfer tool (prepares the transfer as well if the conveyor-preparer is not enabled)</td><td>✅</td><td>✅</td><td>✅</td><td><a href="/documentation/bin/rucio-conveyor-submitter">Details</a></td></tr><tr><td>rucio-conveyor-throttler</td><td>Transfer</td><td>Queues transfer requests inside Rucio, applying limits, ex: only one transfer at a time, etc ...</td><td>❌</td><td>❌</td><td>❌</td><td><a href="/documentation/bin/rucio-conveyor-throttler">Details</a></td></tr><tr><td>rucio-dark-reaper</td><td>Deletion</td><td>Deletes quarantined replicas</td><td>✅</td><td>✅</td><td>✅</td><td><a href="/documentation/bin/rucio-dark-reaper">Details</a></td></tr><tr><td>rucio-dumper</td><td>Consistency</td><td>Dumps file lists. The rucio-auditor consumes these dumps to discover dark data</td><td>❌</td><td>❌</td><td>❌</td><td><a href="/documentation/bin/rucio-dumper">Details</a></td></tr><tr><td>rucio-follower</td><td>Telemetry</td><td>Aggregates events affecting DIDs</td><td>❌</td><td>✅</td><td>❌</td><td><a href="/documentation/bin/rucio-follower">Details</a></td></tr><tr><td>rucio-hermes</td><td>Telemetry</td><td>Sends Rucio messages to external services (InfluxDB, OpenSearch, ActiveMQ, ...)</td><td>✅</td><td>✅</td><td>❌</td><td><a href="/documentation/bin/rucio-hermes">Details</a></td></tr><tr><td>rucio-judge-cleaner</td><td>Rule</td><td>Cleans expired replication rules</td><td>❌</td><td>✅</td><td>❌</td><td><a href="/documentation/bin/rucio-judge-cleaner">Details</a></td></tr><tr><td>rucio-judge-evaluator</td><td>Rule</td><td>Creates and evaluates replication rules based on their state (OK/REPL/STUCK)</td><td>❌</td><td>✅</td><td>❌</td><td><a href="/documentation/bin/rucio-judge-evaluator">Details</a></td></tr><tr><td>rucio-judge-injector</td><td>Rule</td><td>Asynchronously injects replication rules</td><td>❌</td><td>✅</td><td>❌</td><td><a href="/documentation/bin/rucio-judge-injector">Details</a></td></tr><tr><td>rucio-judge-repairer</td><td>Rule</td><td>Repairs stuck replication rules (STATE=STUCK)</td><td>❌</td><td>✅</td><td>❌</td><td><a href="/documentation/bin/rucio-judge-repairer">Details</a></td></tr><tr><td>rucio-kronos</td><td>Telemetry</td><td>Consumes Rucio tracing messages, updates access time of replicas and access count of DIDs</td><td>❌</td><td>✅</td><td>❌</td><td><a href="/documentation/bin/rucio-kronos">Details</a></td></tr><tr><td>rucio-minos</td><td>Replica</td><td>Reads list of physical file names (PFNs) declared bad and classifies them in: temporary unavailable  and permanently unavailable (to be recovered by the necromancer daemon)</td><td>✅</td><td>✅</td><td>❌</td><td><a href="/documentation/bin/rucio-minos">Details</a></td></tr><tr><td>rucio-minos-temporary-expiration</td><td>Replica</td><td>Moves back TEMPORARY_UNAVAILABLE replicas into AVAILABLE state</td><td>✅</td><td>✅</td><td>❌</td><td><a href="/documentation/bin/rucio-minos-temporary-expiration">Details</a></td></tr><tr><td>rucio-necromancer</td><td>Deletion</td><td>Works on permanently unavailable replicas, it tries to recover the data from other valid replicas if any, else declares the replica as lost</td><td>✅</td><td>✅</td><td>❌</td><td><a href="/documentation/bin/rucio-necromancer">Details</a></td></tr><tr><td>rucio-oauth-manager</td><td>Auth/Authz</td><td>Deletes expired access tokens (in case there is a valid refresh token, expired access tokens will be kept until refresh_token expires as well.) and deletion of expired OAuth session parameters</td><td>✅</td><td>✅</td><td>❌</td><td><a href="/documentation/bin/rucio-oauth-manager">Details</a></td></tr><tr><td>rucio-reaper</td><td>Deletion</td><td>Deletes replicas that don&#x27;t have locks anymore, i.e. they have a tombstone set</td><td>✅</td><td>✅</td><td>✅</td><td><a href="/documentation/bin/rucio-reaper">Details</a></td></tr><tr><td>rucio-replica-recoverer</td><td>Replica</td><td>Declares suspicious replicas as bad if they are found available on other RSEs, so necromancer will work on them</td><td>❌</td><td>❌</td><td>✅</td><td><a href="/documentation/bin/rucio-replica-recoverer">Details</a></td></tr><tr><td>rucio-rse-decommissioner</td><td>Deletion</td><td>Decommissions an RSE. The actions to perform are specified in decommissioning profiles (delete all data, move replicas, etc ...)</td><td>❌</td><td>❌</td><td>❌</td><td><a href="/documentation/bin/rucio-rse-decommissioner">Details</a></td></tr><tr><td>rucio-storage-consistency-actions</td><td>Consistency</td><td>Applies corrective actions as a result of a consistency check on an RSE</td><td>❌</td><td>✅</td><td>❌</td><td><a href="/documentation/bin/rucio-storage-consistency-actions">Details</a></td></tr><tr><td>rucio-transmogrifier</td><td>Rule</td><td>Creates replication rules for DIDs matching a subscription</td><td>✅</td><td>✅</td><td>❌</td><td><a href="/documentation/bin/rucio-transmogrifier">Details</a></td></tr><tr><td>rucio-undertaker</td><td>Deletion</td><td>Manages expired DIDs, deleting them (does not delete replicas)</td><td>✅</td><td>✅</td><td>❌</td><td><a href="/documentation/bin/rucio-undertaker">Details</a></td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="faq">FAQ<a href="#faq" class="hash-link" aria-label="Direct link to FAQ" title="Direct link to FAQ">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conveyor-daemons">Conveyor daemons<a href="#conveyor-daemons" class="hash-link" aria-label="Direct link to Conveyor daemons" title="Direct link to Conveyor daemons">​</a></h3>
<p>It is important to know the following:</p>
<ul>
<li>The throttler daemon will need the preparer to work.</li>
<li>The preparer is a daemon that optimizes transfer requests, while recommended to install, it&#x27;s not mandatory.</li>
<li>The submitter is the only daemon needed to submit transfers and can do a subset of what the preparer can do.</li>
<li>To update the state of requests, the conveyor poller (polls for changes) or conveyor receiver (listens for changes)  are needed to understand the new state.</li>
<li>The finisher analyzes this new state and updates the state.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-happens-when-a-rule-is-stuck">What happens when a rule is stuck?<a href="#what-happens-when-a-rule-is-stuck" class="hash-link" aria-label="Direct link to What happens when a rule is stuck?" title="Direct link to What happens when a rule is stuck?">​</a></h3>
<p>The judge repairer will analyze why the transfer is stuck and try to unstuck it, eventually resubmitting the request.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-happens-when-new-data-is-added-to-an-existing-dataset-that-already-has-replicas">What happens when new data is added to an existing dataset that already has replicas?<a href="#what-happens-when-new-data-is-added-to-an-existing-dataset-that-already-has-replicas" class="hash-link" aria-label="Direct link to What happens when new data is added to an existing dataset that already has replicas?" title="Direct link to What happens when new data is added to an existing dataset that already has replicas?">​</a></h3>
<p>The judge evaluator will keep track of new data added to datasets that are already replicated to trigger the necessary transfer requests to ensure all new data is copied to the RSEs.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-the-purpose-of-the-minos-daemons">What is the purpose of the minos daemons?<a href="#what-is-the-purpose-of-the-minos-daemons" class="hash-link" aria-label="Direct link to What is the purpose of the minos daemons?" title="Direct link to What is the purpose of the minos daemons?">​</a></h3>
<p>An human operator can declare some datasets as temporarily unavailable due to maintenance, outages, etc ...The operator will set an expiration time on the temporary unavailable status. When the expiration time is reached, the minos-temporary-expiration will put the replicas back in available state.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-the-relationship-between-auditor-rucio-dumper-and-dark-reaper">What is the relationship between auditor, rucio-dumper and dark-reaper?<a href="#what-is-the-relationship-between-auditor-rucio-dumper-and-dark-reaper" class="hash-link" aria-label="Direct link to What is the relationship between auditor, rucio-dumper and dark-reaper?" title="Direct link to What is the relationship between auditor, rucio-dumper and dark-reaper?">​</a></h3>
<p>The dumper will create a dump of all the files in an RSE that will be passed to the auditor. The auditor will check for inconsistencies and mark missing data as dark data (quarantined replicas).
Dark reaper is the one deleting this dark data to free up space from the quarantined replicas table.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-is-data-deleted">How is data deleted?<a href="#how-is-data-deleted" class="hash-link" aria-label="Direct link to How is data deleted?" title="Direct link to How is data deleted?">​</a></h3>
<p>When replicas are healthy, the judge-cleaner will set a tombstone on replicas where the lifetime has expired. These replicas are taken by the reaper and they are deleted.
Sometimes, replicas can become unhealthy. A dump is created by the dumper daemon. The auditor checks these dumps and declares replicas as suspicious.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-is-a-replica-declared-bad">How is a replica declared bad?<a href="#how-is-a-replica-declared-bad" class="hash-link" aria-label="Direct link to How is a replica declared bad?" title="Direct link to How is a replica declared bad?">​</a></h3>
<ul>
<li>An operator can declare a replica as bad issuing rucio cli commands.</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">rucio-admin replicas declare-bad [-h] --reason REASON [--inputfile [INPUTFILE]] [--allow-collection] [--lfns [LFNS]] [--scope [SCOPE]] [--rse [RSE]] [listbadfiles ...]</span><br></span></code></pre></div></div>
<p>These bad replicas are taken by the necromancer daemon and then deleted if they cannot be recovered from other RSEs.</p>
<ul>
<li>the suspicious-replica-recoverer is a daemon that will analyze different counters (transfer errors, download errors, etc ...) to mark replicas as being suspicious to have an issue. After hitting
a certain limit (configurable by <code>--nattempts</code> flag), the replica is marked as bad and eventually consumed by the necromancer.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-the-purpose-of-undertaker">What is the purpose of undertaker?<a href="#what-is-the-purpose-of-undertaker" class="hash-link" aria-label="Direct link to What is the purpose of undertaker?" title="Direct link to What is the purpose of undertaker?">​</a></h3>
<p>A dataset is &quot;never&quot; deleted, however, when the dataset is known to be bad, there is no point having it in the catalog. The undertaker daemon takes care to remove these datasets.
An operator will set an expiration date in the past of the DIDs and this daemon will delete the dataset from the DB. If there were any replicas attached, the replicas will be deleted as well.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="daemon-arguments">Daemon arguments<a href="#daemon-arguments" class="hash-link" aria-label="Direct link to Daemon arguments" title="Direct link to Daemon arguments">​</a></h2>
<p>A full description for each daemon&#x27;s arguments can be found by running <code>rucio-{daemon} --help</code> or viewing the <code>Details</code> in the daemon description table above.
Listed below are common definitions between different daemons.</p>
<ul>
<li><strong>run-once</strong> - Only run one iteration of the daemon. If executed with this argument the daemon will run once and close.</li>
<li><strong>sleep-time</strong> - How long a daemon will sleep between iterations, mutually exclusive with <code>run-once</code>. Units of seconds.</li>
<li><strong>threads</strong>, <strong>total-workers</strong>, <strong>threads-per-process</strong>, <strong>nprocs</strong> - <em>[Present in threaded daemons]</em> Run in threaded mode.</li>
<li><strong>bulk</strong>, <strong>chunk-size</strong>, <strong>max-rows</strong> - <em>[Present in batched daemons]</em> Provide a limit of the number of operations a single instance of a daemon can run in an iteration.</li>
<li><strong>dry-run</strong> - Run once, showing logs of the daemon&#x27;s operations without performing any action. Useful for verifying settings of the instance and daemon.</li>
<li><strong>vos</strong> - <em>[Present in Multi-VO daemons]</em> Provide a list of VOs with which the daemon can interact. Used when VOs use different settings for their daemons.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="batched-daemons">Batched Daemons<a href="#batched-daemons" class="hash-link" aria-label="Direct link to Batched Daemons" title="Direct link to Batched Daemons">​</a></h3>
<p>Some daemons can run over large backlogs depending on the traffic of an instance.
To prevent the daemon from running too long, or submitting too many requests at once to an external system, a daemon&#x27;s workload can be batched.
Between batches of work, the daemon sleeps for <code>sleep-time</code>.</p>
<p>This setting is present in daemons that either submit requests (e.g. transfer requests) or process multiple replicas or DIDs (e.g. setting statuses, running deletion).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="threaded-daemons">Threaded Daemons<a href="#threaded-daemons" class="hash-link" aria-label="Direct link to Threaded Daemons" title="Direct link to Threaded Daemons">​</a></h3>
<p>When daemons are run with threaded arguments, the database query used by the daemons has a <code>threads</code> argument applied to the query string.
This is applicable to <code>oracle</code>, <code>postgres</code> and <code>mysql</code> databases.</p>
<blockquote>
<p><strong><em>Note:</em></strong>
This definition doesn&#x27;t apply for producer/consumer daemons. When producer/consumer daemons are run in threaded mode, it creates multiple instances of producers and consumers. This includes the threaded <code>conveyor</code> daemons.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="multi-vo-daemons">Multi-VO Daemons<a href="#multi-vo-daemons" class="hash-link" aria-label="Direct link to Multi-VO Daemons" title="Direct link to Multi-VO Daemons">​</a></h3>
<p>Daemons that have a <code>vos</code> option can be set to have separate settings per vo running in a multi-vo instance.
When this is set, the daemon will only interact with objects that are explicitly included in the specific VO.</p>
<p>By default, a daemon with multi-VO options interact with all VOs on the instance.
For example, this is the log displayed by the <code>replica-recoverer</code> daemon.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ rucio-replica-recoverer --run-once</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">2020-07-28 15:15:14,151 5461    INFO    replica_recoverer: This instance will work on VOs: def, abc, xyz, 123</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ rucio-replica-recoverer --run-once --vos abc xyz</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">2020-07-28 15:16:36,066 5474    INFO    replica_recoverer: This instance will work on VOs: abc, xyz</span><br></span></code></pre></div></div>
<blockquote>
<p><strong><em>Note:</em></strong>
Multi-VO daemons can still be used in single-VO instances, and the <code>vos</code> option does not need to be set.</p>
</blockquote></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/rucio/documentation/tree/main/docs/../docs/started/main_components/daemons.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-11-13T12:07:14.000Z" itemprop="dateModified">Nov 13, 2025</time></b> by <b>Matti Jansson</b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/documentation/started/main_components/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Main Components</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/documentation/started/additional_layers_and_resources"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Additional Layers and Resources</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#daemons" class="table-of-contents__link toc-highlight">Daemons</a></li><li><a href="#faq" class="table-of-contents__link toc-highlight">FAQ</a><ul><li><a href="#conveyor-daemons" class="table-of-contents__link toc-highlight">Conveyor daemons</a></li><li><a href="#what-happens-when-a-rule-is-stuck" class="table-of-contents__link toc-highlight">What happens when a rule is stuck?</a></li><li><a href="#what-happens-when-new-data-is-added-to-an-existing-dataset-that-already-has-replicas" class="table-of-contents__link toc-highlight">What happens when new data is added to an existing dataset that already has replicas?</a></li><li><a href="#what-is-the-purpose-of-the-minos-daemons" class="table-of-contents__link toc-highlight">What is the purpose of the minos daemons?</a></li><li><a href="#what-is-the-relationship-between-auditor-rucio-dumper-and-dark-reaper" class="table-of-contents__link toc-highlight">What is the relationship between auditor, rucio-dumper and dark-reaper?</a></li><li><a href="#how-is-data-deleted" class="table-of-contents__link toc-highlight">How is data deleted?</a></li><li><a href="#how-is-a-replica-declared-bad" class="table-of-contents__link toc-highlight">How is a replica declared bad?</a></li><li><a href="#what-is-the-purpose-of-undertaker" class="table-of-contents__link toc-highlight">What is the purpose of undertaker?</a></li></ul></li><li><a href="#daemon-arguments" class="table-of-contents__link toc-highlight">Daemon arguments</a><ul><li><a href="#batched-daemons" class="table-of-contents__link toc-highlight">Batched Daemons</a></li><li><a href="#threaded-daemons" class="table-of-contents__link toc-highlight">Threaded Daemons</a></li><li><a href="#multi-vo-daemons" class="table-of-contents__link toc-highlight">Multi-VO Daemons</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/documentation/img/rucio_horizontaled_black.svg" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/documentation/img/rucio_horizontaled_white.svg" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></div><div class="footer__copyright">Copyright © 2023 CERN</div></div></div></footer></div>
</body>
</html>