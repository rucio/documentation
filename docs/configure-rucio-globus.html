<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Configure Rucio To Use Globus Online as a Transfer Tool · Rucio Documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="This document walks through an example configuration of Rucio to use Globus Online as a transfer tool. There are four configuration points shown here: registration of your application with Globus, RSE setup (properties and parameters), the Rucio configuration file rucio.cfg and the Globus configuration file config.yml."/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Configure Rucio To Use Globus Online as a Transfer Tool · Rucio Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://rucio.github.io/documentation/"/><meta property="og:description" content="This document walks through an example configuration of Rucio to use Globus Online as a transfer tool. There are four configuration points shown here: registration of your application with Globus, RSE setup (properties and parameters), the Rucio configuration file rucio.cfg and the Globus configuration file config.yml."/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/documentation/img/android-chrome-512x512.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="stylesheet" href="/documentation/css/custom.css"/><link rel="stylesheet" href="/documentation/prism/prism.css"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:400,500,700&amp;display=swap"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Rubik:400,500,700&amp;display=swap"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Fira+Code&amp;display=swap"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/documentation/prism/prism.js"></script><script src="/documentation/js/scrollSpy.js"></script><link rel="stylesheet" href="/documentation/css/main.css"/><script src="/documentation/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/documentation/"><img class="logo" src="/documentation/img/wide_logo2.png" alt="Rucio Documentation"/></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/documentation/docs/" target="_self">Docs</a></li><li class=""><a href="https://rucio.readthedocs.io/_/downloads/en/next/pdf/" target="_self">Downloads</a></li><li class=""><a href="https://arxiv.org/abs/1902.09857" target="_self">Scientific articles</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Ask me something" title="Ask me something"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Rucio Developer Documentation</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Getting Started<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/documentation/docs/">Welcome!</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/Before-you-get-started">Before You Get Started</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/What-is-rucio">What is Rucio?</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/Main-components-of-rucio">Main Components of Rucio</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/Additional-layers-and-Resources">Additional Layers and Resources</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/concepts">Concepts</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Try Rucio<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/documentation/docs/Try-rucio">Try Rucio!</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/setting-up-demo">Setting up a Rucio demo environment</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Using Rucio<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/documentation/docs/Clients">Rucio Clients</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/setting-up-rucio-client">Setting Up the Rucio Client</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/using-rucio-client">Using the Rucio Client</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Rucio Operator Documentation<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/documentation/docs/installing-rucio-server">Installing Rucio Server</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/installing-rucio-daemons">Installing Rucio Daemons</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/Monitoring">Monitoring</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Rucio Developer Documentation<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/documentation/docs/database">Database Operations</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/documentation/docs/configure-rucio-globus">Configure Rucio To Use Globus Online as a Transfer Tool</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/contributing">Contributing Guide</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Miscellaneous<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/documentation/docs/policy-packages">Policy packages</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/notifications">Notifications</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/metadata-attributes">Metadata Attributes</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Contribution<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/documentation/docs/Contributing">Contributing Guide for Documentation</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/page-types">Types of Pages</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/contributing-improvements">Contributing Improvements</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/new-content-contribution-guide">New Content Contribution Guide</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Release Notes<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/documentation/docs/release-notes">Release Notes</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.13.3">1.13.3</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.14.0">1.14.0</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.14.1">1.14.1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.14.2">1.14.2</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.14.3">1.14.3</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.14.4">1.14.4</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.14.5">1.14.5</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.14.6">1.14.6</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.14.7">1.14.7</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.14.8">1.14.8</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.14.9">1.14.9</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.14.11">1.14.11</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.15.0">1.15.0</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.15.1">1.15.1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.15.2">1.15.2</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.15.3">1.15.3</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.15.4">1.15.4</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.15.4.post1">1.15.4.post1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.15.5">1.15.5</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.16.0">1.16.0</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.16.0.post1">1.16.0.post1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.16.1">1.16.1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.16.2">1.16.2</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.16.3">1.16.3</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.16.4">1.16.4</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.17.0">1.17.0</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.17.1">1.17.1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.17.2">1.17.2</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.17.2.post1">1.17.2.post1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.17.3">1.17.3</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.17.4">1.17.4</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.17.5">1.17.5</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.17.6">1.17.6</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.17.6.post1">1.17.6.post1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.17.6.post2">1.17.6.post2</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.18.0">1.18.0</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.18.1">1.18.1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.18.2">1.18.2</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.18.3">1.18.3</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.18.4">1.18.4</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.18.5">1.18.5</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.18.5.post1">1.18.5.post1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.18.6">1.18.6</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.18.7">1.18.7</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.18.8">1.18.8</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.18.8.post1">1.18.8.post1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.18.9">1.18.9</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.19.0">1.19.0</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.19.1">1.19.1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.19.2">1.19.2</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.19.3">1.19.3</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.19.4.post1">1.19.4.post1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.19.4.post2">1.19.4.post2</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.19.4">1.19.4</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.19.5">1.19.5</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.19.6">1.19.6</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.19.7.post1">1.19.7.post1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.19.7">1.19.7</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.19.8">1.19.8</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.20.0">1.20.0</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.20.0rc1">1.20.0rc1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.20.1.post1">1.20.1.post1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.20.1">1.20.1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.20.2">1.20.2</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.20.3">1.20.3</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.20.3rc1">1.20.3rc1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.20.3rc2">1.20.3rc2</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.20.4.post1">1.20.4.post1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.20.4.post2">1.20.4.post2</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.20.4">1.20.4</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.20.4rc1">1.20.4rc1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.20.4rc2">1.20.4rc2</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.20.4rc3">1.20.4rc3</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.20.5">1.20.5</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.20.6">1.20.6</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.20.7">1.20.7</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.20.8">1.20.8</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.20.9">1.20.9</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.20.10">1.20.10</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.21.0">1.21.0</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.21.0rc1">1.21.0rc1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.21.0rc2">1.21.0rc2</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.21.0rc3">1.21.0rc3</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.21.1">1.21.1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.21.2">1.21.2</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.21.3">1.21.3</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.21.4">1.21.4</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.21.5">1.21.5</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.21.6">1.21.6</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.21.7">1.21.7</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.21.8">1.21.8</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.21.10">1.21.10</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.21.11">1.21.11</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.21.12">1.21.12</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.22.0">1.22.0</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.22.0rc1">1.22.0rc1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.22.0rc2">1.22.0rc2</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.22.1">1.22.1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.22.2">1.22.2</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.22.3.post1">1.22.3.post1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.22.3">1.22.3</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.22.4">1.22.4</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.22.5">1.22.5</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.22.6">1.22.6</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.22.7">1.22.7</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.22.8.post1">1.22.8.post1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.22.8">1.22.8</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.23.0">1.23.0</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.23.0rc1">1.23.0rc1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.23.0rc2">1.23.0rc2</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.23.1">1.23.1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.23.2.post1">1.23.2.post1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.23.2.post2">1.22.0</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.23.2">1.23.2</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.23.4">1.23.4</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.23.5.post1">1.23.5.post1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.23.5">1.23.5</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.23.6">1.23.6</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.23.6.post1">1.23.6.post1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.23.7">1.23.7</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.23.7.post1">1.23.7.post1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.23.8">1.23.8</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.23.9">1.23.9</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.23.9.post1">1.23.9.post1</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.23.9.post2">1.23.9.post2</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.23.9.post3">1.23.9.post3</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/1.23.9.post4">1.23.9.post4</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">About Us<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/documentation/docs/about-our-contributors">About Our Contributors</a></li><li class="navListItem"><a class="navItem" href="/documentation/docs/how-to-reach-us">Contact us</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Configure Rucio To Use Globus Online as a Transfer Tool</h1></header><article><div><span><p>This document walks through an example configuration of Rucio to use Globus Online as a transfer tool. There are four configuration points shown here: registration of your application with Globus, RSE setup (properties and parameters), the Rucio configuration file rucio.cfg and the Globus configuration file config.yml.</p>
<p>Use of both Globus Server endpoints and Globus Personal endpoints has been tested with the below approach. Creation of the Globus endpoints is outside the scope here. Some knowledge of Rucio setup and familiarity with Globus configuration is presumed.</p>
<h2><a class="anchor" aria-hidden="true" id="register-application-with-globus"></a><a href="#register-application-with-globus" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Register Application with Globus</h2>
<p>Using Globus Online as a transfer tool requires <a href="https://developers.globus.org">registering</a> the client application with Globus Online. Be sure to select Native App and include a scope for urn:globus:auth:scope:transfer.api.globus.org:all. Once you have the Client ID you’ll need to install the globus sdk and run the below Python code to obtain a refresh token.</p>
<p>There is a <a href="https://globus-sdk-python.readthedocs.io/en/stable/tutorial/">helpful walk-through</a> that goes into more detail around OAuth and token retrieval.</p>
<p>Obtain a refresh token to access Globus resources:</p>
<pre><code class="hljs css language-py"><span class="hljs-comment"># obtain authorization code</span>
<span class="hljs-keyword">import</span> globus_sdk
CLIENT_ID = <span class="hljs-string">''</span> <span class="hljs-comment"># your client ID obtained from registering application</span>
client = globus_sdk.NativeAppAuthClient(CLIENT_ID)
client.oauth2_start_flow(refresh_tokens=<span class="hljs-literal">True</span>)
client.oauth2_get_authorize_url() <span class="hljs-comment"># Use the URL returned here to obtain an authorization code</span>
AUTH_CODE = <span class="hljs-string">''</span> <span class="hljs-comment"># Use the authorization code returned by authenticating to Globus Online</span>

<span class="hljs-comment"># use the authorization code to create a refresh token</span>
token_response = client.oauth2_exchange_code_for_tokens(AUTH_CODE)
refresh_token = token_response.by_resource_server[<span class="hljs-string">'transfer.api.globus.org'</span>][<span class="hljs-string">'refresh_token'</span>]
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="rse-setup"></a><a href="#rse-setup" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>RSE Setup</h2>
<p>Below shows a typical setup for a test RSE. Options for CLI given when supported.</p>
<p>The following code will create a non-determinisic RSE.</p>
<p>Python:</p>
<pre><code class="hljs css language-py"><span class="hljs-comment"># set up the target non-deterministic rse (TEST_RSE)</span>
<span class="hljs-keyword">from</span> rucio.client.rseclient <span class="hljs-keyword">import</span> RSEClient
rseclient = RSEClient()
rse_name = <span class="hljs-string">'TEST_RSE'</span> <span class="hljs-comment"># rse name MUST BE UPPER CASE</span>
rse_properties = {<span class="hljs-string">'ASN'</span>: <span class="hljs-string">'ASN'</span>, <span class="hljs-string">'availability'</span>: <span class="hljs-number">7</span>, <span class="hljs-string">'deterministic'</span>: <span class="hljs-literal">False</span>, <span class="hljs-string">'volatile'</span>: <span class="hljs-literal">False</span>, <span class="hljs-string">'city'</span>: <span class="hljs-string">'Upton'</span>, <span class="hljs-string">'region_code'</span>: <span class="hljs-string">'DE'</span>, <span class="hljs-string">'country_name'</span>: <span class="hljs-string">'US'</span>, <span class="hljs-string">'continent'</span>: <span class="hljs-string">'NA'</span>, <span class="hljs-string">'time_zone'</span>: <span class="hljs-string">'America/New_York'</span>, <span class="hljs-string">'ISP'</span>: <span class="hljs-literal">None</span>, <span class="hljs-string">'staging_area'</span>: <span class="hljs-literal">False</span>, <span class="hljs-string">'rse_type'</span>: <span class="hljs-string">'DISK'</span>, <span class="hljs-string">'longitude'</span>: <span class="hljs-number">40.868352</span>, <span class="hljs-string">'latitude'</span>: <span class="hljs-number">-72.878871</span>}
r = rseclient.add_rse(rse_name, **rse_properties) <span class="hljs-comment"># r is true on success</span>
</code></pre>
<p>CLI alternative: RSE creation not supported at time of writing of this document as there is no way to pass the properties.</p>
<p>The following code creates a schema to connect to Globus for the RSE created above.</p>
<p>Python:</p>
<pre><code class="hljs css language-py"><span class="hljs-keyword">from</span> rucio.client.rseclient <span class="hljs-keyword">import</span> RSEClient
rseclient = RSEClient()
rse_name = <span class="hljs-string">'TEST_RSE'</span> <span class="hljs-comment"># rse name MUST BE UPPER CASE</span>
<span class="hljs-comment"># Globus scheme</span>
prefix = <span class="hljs-string">'/~/scratch-space/'</span> <span class="hljs-comment"># Be sure to use a relative path for your endpoint</span>
params = {<span class="hljs-string">'scheme'</span>: <span class="hljs-string">'globus'</span>, <span class="hljs-string">'prefix'</span>: prefix, <span class="hljs-string">'impl'</span>: <span class="hljs-string">'rucio.rse.protocols.globus.GlobusRSEProtocol'</span>, <span class="hljs-string">'third_party_copy'</span>: <span class="hljs-number">1</span>, <span class="hljs-string">'domains'</span>: {<span class="hljs-string">"lan"</span>: {<span class="hljs-string">"read"</span>: <span class="hljs-number">1</span>,<span class="hljs-string">"write"</span>: <span class="hljs-number">1</span>,<span class="hljs-string">"delete"</span>: <span class="hljs-number">1</span>},<span class="hljs-string">"wan"</span>: {<span class="hljs-string">"read"</span>: <span class="hljs-number">1</span>,<span class="hljs-string">"write"</span>: <span class="hljs-number">1</span>,<span class="hljs-string">"delete"</span>: <span class="hljs-number">1</span>}}}
p = rseclient.add_protocol(rse_name, params) <span class="hljs-comment"># p is true on success</span>
</code></pre>
<p>CLI alternative: (the hostname value is required for the CLI command but is arbitrary as it is ultimately not used in the scheme):</p>
<pre><code class="hljs css language-bash">&gt; rucio-admin rse add-protocol --scheme <span class="hljs-string">'globus'</span> --prefix <span class="hljs-string">'/~/scratch-space'</span> --impl <span class="hljs-string">'rucio.rse.protocols.globus.GlobusRSEProtocol'</span> --domain-json <span class="hljs-string">'{"wan": {"read": 1, "write": 1, "third_party_copy": 1, "delete": 1}, "lan": {"read": 1, "write": 1, "third_party_copy": 1, "delete": 1}}'</span> --hostname <span class="hljs-string">'globus_online'</span> TEST_RSE
</code></pre>
<p>The following code sets some attributes for the RSE.</p>
<p>Python:</p>
<pre><code class="hljs css language-py"><span class="hljs-keyword">from</span> rucio.client.rseclient <span class="hljs-keyword">import</span> RSEClient
rseclient = RSEClient()
rse_name = <span class="hljs-string">'TEST_RSE'</span> <span class="hljs-comment"># rse name MUST BE UPPER CASE</span>

result = rseclient.add_rse_attribute(rse = rse_name, key = <span class="hljs-string">'naming_convention'</span>, value = <span class="hljs-string">'bnl'</span>) <span class="hljs-comment"># This is the value for relative SURL</span>
result = rseclient.add_rse_attribute(rse = rse_name, key = <span class="hljs-string">'globus_endpoint_id'</span>, value = <span class="hljs-string">'d6ae63d8-503f-11e9-a620-0a54e005f849'</span>)
result = rseclient.add_rse_attribute(rse = rse_name, key = <span class="hljs-string">'istape'</span>, value = <span class="hljs-literal">False</span>)
</code></pre>
<p>CLI alternative:</p>
<pre><code class="hljs css language-bash">&gt; rucio-admin rse <span class="hljs-built_in">set</span>-attribute --rse TEST_RSE --key naming_convention --value bnl
&gt; rucio-admin rse <span class="hljs-built_in">set</span>-attribute --rse TEST_RSE --key globus_endpoint_id --value d6ae63d8-503f-11e9-a620-0a54e005f849
&gt; rucio-admin rse <span class="hljs-built_in">set</span>-attribute --rse TEST_RSE --key istape --value <span class="hljs-literal">false</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="rucio-configuration-file"></a><a href="#rucio-configuration-file" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Rucio Configuration File</h2>
<p>The Rucio configuration file rucio.cfg should contain the following for the conveyor mechanism. More schemes can be included but globus is required. You only need the file scheme if you plan on using the upload method for replicas. If the transfertype value is bulk Rucio will bundle many files into a transfer task. If single then each file will be submitted on individual transfer tasks.:</p>
<pre><code class="hljs css language-bash">[conveyor]
scheme = file,globus
transfertool = globus
transfertype = bulk
globus_auth_app = MyGlobusAuthApp
</code></pre>
<p>globus_auth_app is the application given in config.yml (see below)</p>
<h2><a class="anchor" aria-hidden="true" id="globus-configuration-file"></a><a href="#globus-configuration-file" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Globus Configuration File</h2>
<p>The Globus configuration file ./lib/rucio/transfertool/config.yml is a file of YAML syntax and should include at minimum the registered application name, the client ID and refresh token:</p>
<pre><code class="hljs css language-yml"><span class="hljs-attr">globus:</span>
  <span class="hljs-attr">apps:</span>
    <span class="hljs-attr">RucioGlobusXferNativeApp:</span>
      <span class="hljs-attr">client_id:</span> <span class="hljs-string">a758...</span>
      <span class="hljs-attr">refresh_token:</span> <span class="hljs-string">Agjo...</span>
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/documentation/docs/database"><span class="arrow-prev">← </span><span>Database Operations</span></a><a class="docs-next button" href="/documentation/docs/contributing"><span>Contributing Guide</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#register-application-with-globus">Register Application with Globus</a></li><li><a href="#rse-setup">RSE Setup</a></li><li><a href="#rucio-configuration-file">Rucio Configuration File</a></li><li><a href="#globus-configuration-file">Globus Configuration File</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="copyright">Copyright © 2021 CERN. Created with Docusaurus.</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '04e5d623b96121df11ac440e51fc8956',
                indexName: 'rucio-cern',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>