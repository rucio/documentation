"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[30799],{11233:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>r,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"developer/deprecation_guide","title":"Deprecation Guide","description":"Rucio is a living project, and often has implementations and features that are deprecated over time.","source":"@site/../docs/developer/deprecation_guide.md","sourceDirName":"developer","slug":"/developer/deprecation_guide","permalink":"/documentation/developer/deprecation_guide","draft":false,"unlisted":false,"editUrl":"https://github.com/rucio/documentation/tree/main/docs/../docs/developer/deprecation_guide.md","tags":[],"version":"current","lastUpdatedBy":"voetberg","lastUpdatedAt":1759473154000,"frontMatter":{"id":"deprecation_guide","title":"Deprecation Guide"},"sidebar":"docs","previous":{"title":"Dependency management","permalink":"/documentation/developer/dependency_management"},"next":{"title":"Project Structure","permalink":"/documentation/developer/project_structure"}}');var o=t(74848),d=t(28453);const a={id:"deprecation_guide",title:"Deprecation Guide"},r=void 0,s={},c=[];function l(e){const n={a:"a",code:"code",li:"li",p:"p",pre:"pre",ul:"ul",...(0,d.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"Rucio is a living project, and often has implementations and features that are deprecated over time.\nWhen this has to be done, two key things need to be taken into consideration:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["According to the ",(0,o.jsx)(n.a,{href:"/documentation/started/releasepolicy#client--server-compatibility",children:"LTS policy"}),", any client version must be compatible with all server versions since the second to last LTS release."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"This includes considerations like - keeping API endpoints in place, providing redirection for old client functions, including client side handling for arguments older servers may not handle."}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"When a feature is planned to be deprecated, an issue to do so must be made and linked in code"}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["Calculate the release in which the functionality should be removed, and make a ",(0,o.jsx)(n.code,{children:"TODO"})," comment with that release.\nMake an issue that corresponds to this ",(0,o.jsx)(n.code,{children:"TODO"})," and link it in the issue."]}),"\n",(0,o.jsx)(n.p,{children:"\u2705 Include a warning to the user, an issue to remove the functionality, and leave the old functionality in place"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-diff",children:'class DataClient():\n    ...\n    def old_endpoint(self, **kwargs):\n+        #  TODO: Deprecate in Rucio XX.00\n+        #  github.com/rucio/rucio/#IssueNumber\n+        self.logger("WARNING": `old_endpoint` is being deprecated.)\n+        # Can either redirect to new method, or keep old functionality in place\n+        self.new_endpoint(**kwargs)\n\n+    def new_endpoint(self, **kwargs):\n+        ...\n\n'})}),"\n",(0,o.jsx)(n.p,{children:"\u2705 Keep the old functionality in place, but hide it from documentation"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-diff",children:'class APIEndpoints():\n    ...\ndef blueprint(with_docs=False)\n    bp = AuthenticatedBlueprint(name, __name__, url_prefix=url)\n\n    view = APIEndpoints.as_view(name)\n+    if not with_docs:\n+        # Hide the route from the documentation, but leave it functional\n+        bp.add_url_rule(old_route, view_func=view, methods=[..])\n\n+    bp.add_url_rule(new_route, view_func=view, methods=[..])\n\ndef make_doc():\n    """Only used to make documentation"""\n    doc_app = Flask(__name__)\n    doc_app.register_blueprint(blueprint(with_docs=True))\n    return doc_app\n\n'})}),"\n",(0,o.jsx)(n.p,{children:"\u274c  Do not completely remove functionality!"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-diff",children:"class DataClient():\n    ...\n-    def old_endpoint(self, **kwargs):\n-        ...\n\n+    def new_endpoint(self, **kwargs):\n+        ...\n\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u274c  Do not leave old functionality without a plan to remove it or comment to the user!"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-diff",children:"class DataClient():\n    ...\n    def old_endpoint(self, **kwargs):\n        ...\n\n+    def new_endpoint(self, **kwargs):\n+        ...\n\n"})})]})}function u(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>r});var i=t(96540);const o={},d=i.createContext(o);function a(e){const n=i.useContext(d);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(d.Provider,{value:n},e.children)}}}]);