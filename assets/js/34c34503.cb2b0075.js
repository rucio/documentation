"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[34834],{39260:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>o,metadata:()=>n,toc:()=>t});const n=JSON.parse('{"id":"client_api/replicaclient","title":"ReplicaClient","description":"quarantine\\\\_replicas","source":"@site/../docs/client_api/replicaclient.md","sourceDirName":"client_api","slug":"/client_api/replicaclient","permalink":"/documentation/client_api/replicaclient","draft":false,"unlisted":false,"editUrl":"https://github.com/rucio/documentation/tree/main/docs/../docs/client_api/replicaclient.md","tags":[],"version":"current","frontMatter":{"title":"ReplicaClient"},"sidebar":"docs","previous":{"title":"PingClient","permalink":"/documentation/client_api/pingclient"},"next":{"title":"RequestClient","permalink":"/documentation/client_api/requestclient"}}');var l=s(74848),i=s(28453);const o={title:"ReplicaClient"},d=void 0,c={},t=[{value:"quarantine_replicas",id:"quarantine_replicas",level:2},{value:"declare_bad_file_replicas",id:"declare_bad_file_replicas",level:2},{value:"declare_bad_did_replicas",id:"declare_bad_did_replicas",level:2},{value:"declare_suspicious_file_replicas",id:"declare_suspicious_file_replicas",level:2},{value:"get_did_from_pfns",id:"get_did_from_pfns",level:2},{value:"list_replicas",id:"list_replicas",level:2},{value:"list_suspicious_replicas",id:"list_suspicious_replicas",level:2},{value:"add_replica",id:"add_replica",level:2},{value:"add_replicas",id:"add_replicas",level:2},{value:"delete_replicas",id:"delete_replicas",level:2},{value:"update_replicas_states",id:"update_replicas_states",level:2},{value:"list_dataset_replicas",id:"list_dataset_replicas",level:2},{value:"list_dataset_replicas_bulk",id:"list_dataset_replicas_bulk",level:2},{value:"list_dataset_replicas_vp",id:"list_dataset_replicas_vp",level:2},{value:"list_datasets_per_rse",id:"list_datasets_per_rse",level:2},{value:"add_bad_pfns",id:"add_bad_pfns",level:2},{value:"set_tombstone",id:"set_tombstone",level:2}];function a(e){const r={code:"code",h2:"h2",p:"p",strong:"strong",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.h2,{id:"quarantine_replicas",children:"quarantine_replicas"}),"\n",(0,l.jsxs)("span",{style:{"white-space":"pre"},children:[(0,l.jsx)(r.p,{children:"Add quaratined replicas for RSE."}),(0,l.jsx)("table",{style:{border:"none"},children:(0,l.jsx)("tbody",{children:(0,l.jsxs)("tr",{style:{border:"none"},children:[(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Arguments"}),":"]})}),(0,l.jsxs)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:[(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"replicas"}),": List of replica infos: {'scope': <scope> (optional), 'name': <name> (optional), 'path':<path> (required)}."]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"rse"}),": RSE name."]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"rse_id"}),": RSE id. Either RSE name or RSE id must be specified, but not both"]})]})]})})})]}),"\n",(0,l.jsx)(r.h2,{id:"declare_bad_file_replicas",children:"declare_bad_file_replicas"}),"\n",(0,l.jsxs)("span",{style:{"white-space":"pre"},children:[(0,l.jsx)(r.p,{children:"Declare a list of bad replicas."}),(0,l.jsx)("table",{style:{border:"none"},children:(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{style:{border:"none"},children:[(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Arguments"}),":"]})}),(0,l.jsxs)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:[(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"replicas"}),": Either a list of PFNs (string) or a list of dicts {'scope': <scope>, 'name': <name>, 'rse_id': <rse_id> or 'rse': <rse_name>}"]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"reason"}),": The reason of the loss."]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"force"}),": boolean, tell the serrver to ignore existing replica status in the bad_replicas table. Default: False"]})]})]}),(0,l.jsxs)("tr",{style:{border:"none"},children:[(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Returns"}),":"]})}),(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsx)(r.p,{children:'Dictionary {"rse_name": ["did: error",...]} - list of strings for DIDs failed to declare, by RSE'})})]})]})})]}),"\n",(0,l.jsx)(r.h2,{id:"declare_bad_did_replicas",children:"declare_bad_did_replicas"}),"\n",(0,l.jsxs)("span",{style:{"white-space":"pre"},children:[(0,l.jsx)(r.p,{children:"Declare a list of bad replicas."}),(0,l.jsx)("table",{style:{border:"none"},children:(0,l.jsx)("tbody",{children:(0,l.jsxs)("tr",{style:{border:"none"},children:[(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Arguments"}),":"]})}),(0,l.jsxs)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:[(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"rse"}),": The RSE where the bad replicas reside"]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"dids"}),": The DIDs of the bad replicas"]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"reason"}),": The reason of the loss."]})]})]})})})]}),"\n",(0,l.jsx)(r.h2,{id:"declare_suspicious_file_replicas",children:"declare_suspicious_file_replicas"}),"\n",(0,l.jsxs)("span",{style:{"white-space":"pre"},children:[(0,l.jsx)(r.p,{children:"Declare a list of bad replicas."}),(0,l.jsx)("table",{style:{border:"none"},children:(0,l.jsx)("tbody",{children:(0,l.jsxs)("tr",{style:{border:"none"},children:[(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Arguments"}),":"]})}),(0,l.jsxs)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:[(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"pfns"}),": The list of PFNs."]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"reason"}),": The reason of the loss."]})]})]})})})]}),"\n",(0,l.jsx)(r.h2,{id:"get_did_from_pfns",children:"get_did_from_pfns"}),"\n",(0,l.jsxs)("span",{style:{"white-space":"pre"},children:[(0,l.jsx)(r.p,{children:"Get the DIDs associated to a PFN on one given RSE"}),(0,l.jsx)("table",{style:{border:"none"},children:(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{style:{border:"none"},children:[(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Arguments"}),":"]})}),(0,l.jsxs)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:[(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"pfns"}),": The list of PFNs."]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"rse"}),": The RSE name."]})]})]}),(0,l.jsxs)("tr",{style:{border:"none"},children:[(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Returns"}),":"]})}),(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsx)(r.p,{children:"A list of dictionaries {pfn: {'scope': scope, 'name': name}}"})})]})]})})]}),"\n",(0,l.jsx)(r.h2,{id:"list_replicas",children:"list_replicas"}),"\n",(0,l.jsxs)("span",{style:{"white-space":"pre"},children:[(0,l.jsx)(r.p,{children:"List file replicas for a list of data identifiers (DIDs)."}),(0,l.jsx)("table",{style:{border:"none"},children:(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{style:{border:"none"},children:[(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Arguments"}),":"]})}),(0,l.jsxs)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:[(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"dids"}),": The list of data identifiers (DIDs) like :\n[{'scope': <scope1>, 'name': <name1>}, {'scope': <scope2>, 'name': <name2>}, ...]"]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"schemes"}),": A list of schemes to filter the replicas. (e.g. file, http, ...)"]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"ignore_availability"}),": Also include replicas from blocked RSEs into the list"]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"metalink"}),": ",(0,l.jsx)(r.code,{children:"False"})," (default) retrieves as JSON,\n",(0,l.jsx)(r.code,{children:"True"})," retrieves as metalink4+xml."]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"rse_expression"}),": The RSE expression to restrict replicas on a set of RSEs."]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"client_location"}),": Client location dictionary for PFN modification {'ip', 'fqdn', 'site', 'latitude', 'longitude'}"]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"sort"}),": Sort the replicas: ",(0,l.jsx)(r.code,{children:"geoip"})," - based on src/dst IP topographical distance\n",(0,l.jsx)(r.code,{children:"closeness"})," - based on src/dst closeness\n",(0,l.jsx)(r.code,{children:"dynamic"})," - Rucio Dynamic Smart Sort (tm)"]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"domain"}),": Define the domain. None is fallback to 'wan', otherwise 'wan, 'lan', or 'all'"]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"signature_lifetime"}),": If supported, in seconds, restrict the lifetime of the signed PFN."]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"nrandom"}),": pick N random replicas. If the initial number of replicas is smaller than N, returns all replicas."]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"resolve_archives"}),": When set to True, find archives which contain the replicas."]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"resolve_parents"}),": When set to True, find all parent datasets which contain the replicas."]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"updated_after"}),": epoch timestamp or datetime object (UTC time), only return replicas updated after this time"]})]})]}),(0,l.jsxs)("tr",{style:{border:"none"},children:[(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Returns"}),":"]})}),(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsx)(r.p,{children:"A list of dictionaries with replica information."})})]})]})})]}),"\n",(0,l.jsx)(r.h2,{id:"list_suspicious_replicas",children:"list_suspicious_replicas"}),"\n",(0,l.jsxs)("span",{style:{"white-space":"pre"},children:[(0,l.jsx)(r.p,{children:"List file replicas tagged as suspicious."}),(0,l.jsx)("table",{style:{border:"none"},children:(0,l.jsx)("tbody",{children:(0,l.jsxs)("tr",{style:{border:"none"},children:[(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Arguments"}),":"]})}),(0,l.jsxs)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:[(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"rse_expression"}),": The RSE expression to restrict replicas on a set of RSEs."]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"younger_than"}),": Datetime object to select the replicas which were declared since younger_than date. Default value = 10 days ago."]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"nattempts"}),": The minimum number of replica appearances in the bad_replica DB table from younger_than date. Default value = 0."]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"state"}),": State of the replica, either 'BAD' or 'SUSPICIOUS'. No value returns replicas with either state."]})]})]})})})]}),"\n",(0,l.jsx)(r.h2,{id:"add_replica",children:"add_replica"}),"\n",(0,l.jsxs)("span",{style:{"white-space":"pre"},children:[(0,l.jsx)(r.p,{children:"Add file replicas to a RSE."}),(0,l.jsx)("table",{style:{border:"none"},children:(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{style:{border:"none"},children:[(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Arguments"}),":"]})}),(0,l.jsxs)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:[(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"rse"}),": the RSE name."]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"scope"}),": The scope of the file."]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"name"}),": The name of the file."]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"bytes_"}),": The size in bytes."]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"adler32"}),": adler32 checksum."]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"pfn"}),": PFN of the file for non deterministic RSE."]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"md5"}),": md5 checksum."]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"meta"}),": Metadata attributes."]})]})]}),(0,l.jsxs)("tr",{style:{border:"none"},children:[(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Returns"}),":"]})}),(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsx)(r.p,{children:"True if files were created successfully."})})]})]})})]}),"\n",(0,l.jsx)(r.h2,{id:"add_replicas",children:"add_replicas"}),"\n",(0,l.jsxs)("span",{style:{"white-space":"pre"},children:[(0,l.jsx)(r.p,{children:"Bulk add file replicas to a RSE."}),(0,l.jsx)("table",{style:{border:"none"},children:(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{style:{border:"none"},children:[(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Arguments"}),":"]})}),(0,l.jsxs)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:[(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"rse"}),": the RSE name."]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"files"}),": The list of files. This is a list of DIDs like :\n[{'scope': <scope1>, 'name': <name1>}, {'scope': <scope2>, 'name': <name2>}, ...]"]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"ignore_availability"}),": Ignore the RSE blocklsit."]})]})]}),(0,l.jsxs)("tr",{style:{border:"none"},children:[(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Returns"}),":"]})}),(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsx)(r.p,{children:"True if files were created successfully."})})]})]})})]}),"\n",(0,l.jsx)(r.h2,{id:"delete_replicas",children:"delete_replicas"}),"\n",(0,l.jsxs)("span",{style:{"white-space":"pre"},children:[(0,l.jsx)(r.p,{children:"Bulk delete file replicas from a RSE."}),(0,l.jsx)("table",{style:{border:"none"},children:(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{style:{border:"none"},children:[(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Arguments"}),":"]})}),(0,l.jsxs)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:[(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"rse"}),": the RSE name."]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"files"}),": The list of files. This is a list of DIDs like :\n[{'scope': <scope1>, 'name': <name1>}, {'scope': <scope2>, 'name': <name2>}, ...]"]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"ignore_availability"}),": Ignore the RSE blocklist."]})]})]}),(0,l.jsxs)("tr",{style:{border:"none"},children:[(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Returns"}),":"]})}),(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsx)(r.p,{children:"True if files have been deleted successfully."})})]})]})})]}),"\n",(0,l.jsx)(r.h2,{id:"update_replicas_states",children:"update_replicas_states"}),"\n",(0,l.jsxs)("span",{style:{"white-space":"pre"},children:[(0,l.jsx)(r.p,{children:"Bulk update the file replicas states from a RSE."}),(0,l.jsx)("table",{style:{border:"none"},children:(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{style:{border:"none"},children:[(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Arguments"}),":"]})}),(0,l.jsxs)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:[(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"rse"}),": the RSE name."]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"files"}),": The list of files. This is a list of DIDs like :\n[{'scope': <scope1>, 'name': <name1>, 'state': <state1>}, {'scope': <scope2>, 'name': <name2>, 'state': <state2>}, ...],\nwhere a state value can be either of:\n'A' (AVAILABLE)\n'U' (UNAVAILABLE)\n'C' (COPYING)\n'B' (BEING_DELETED)\n'D' (BAD)\n'T' (TEMPORARY_UNAVAILABLE)"]})]})]}),(0,l.jsxs)("tr",{style:{border:"none"},children:[(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Returns"}),":"]})}),(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsx)(r.p,{children:"True if replica states have been updated successfully, otherwise an exception is raised."})})]})]})})]}),"\n",(0,l.jsx)(r.h2,{id:"list_dataset_replicas",children:"list_dataset_replicas"}),"\n",(0,l.jsxs)("span",{style:{"white-space":"pre"},children:[(0,l.jsxs)(r.p,{children:["List dataset replicas for a did (scope",":name",")."]}),(0,l.jsx)("table",{style:{border:"none"},children:(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{style:{border:"none"},children:[(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Arguments"}),":"]})}),(0,l.jsxs)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:[(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"scope"}),": The scope of the dataset."]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"name"}),": The name of the dataset."]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"deep"}),": Lookup at the file level."]})]})]}),(0,l.jsxs)("tr",{style:{border:"none"},children:[(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Returns"}),":"]})}),(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsx)(r.p,{children:"A list of dict dataset replicas."})})]})]})})]}),"\n",(0,l.jsx)(r.h2,{id:"list_dataset_replicas_bulk",children:"list_dataset_replicas_bulk"}),"\n",(0,l.jsxs)("span",{style:{"white-space":"pre"},children:[(0,l.jsxs)(r.p,{children:["List dataset replicas for a did (scope",":name",")."]}),(0,l.jsx)("table",{style:{border:"none"},children:(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{style:{border:"none"},children:[(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Arguments"}),":"]})}),(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"dids"}),": The list of DIDs of the datasets."]})})]}),(0,l.jsxs)("tr",{style:{border:"none"},children:[(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Returns"}),":"]})}),(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsx)(r.p,{children:"A list of dict dataset replicas."})})]})]})})]}),"\n",(0,l.jsx)(r.h2,{id:"list_dataset_replicas_vp",children:"list_dataset_replicas_vp"}),"\n",(0,l.jsxs)("span",{style:{"white-space":"pre"},children:[(0,l.jsxs)(r.p,{children:["List dataset replicas for a DID (scope",":name",") using the"]}),(0,l.jsx)(r.p,{children:"Virtual Placement service."}),(0,l.jsx)(r.p,{children:"NOTICE: This is an RnD function and might change or go away at any time."}),(0,l.jsx)("table",{style:{border:"none"},children:(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{style:{border:"none"},children:[(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Arguments"}),":"]})}),(0,l.jsxs)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:[(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"scope"}),": The scope of the dataset."]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"name"}),": The name of the dataset."]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"deep"}),": Lookup at the file level."]})]})]}),(0,l.jsxs)("tr",{style:{border:"none"},children:[(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Returns"}),":"]})}),(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsx)(r.p,{children:"If VP exists a list of dicts of sites"})})]})]})})]}),"\n",(0,l.jsx)(r.h2,{id:"list_datasets_per_rse",children:"list_datasets_per_rse"}),"\n",(0,l.jsxs)("span",{style:{"white-space":"pre"},children:[(0,l.jsx)(r.p,{children:"List datasets at a RSE."}),(0,l.jsx)("table",{style:{border:"none"},children:(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{style:{border:"none"},children:[(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Arguments"}),":"]})}),(0,l.jsxs)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:[(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"rse"}),": the rse name."]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"filters"}),": dictionary of attributes by which the results should be filtered."]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"limit"}),": limit number."]})]})]}),(0,l.jsxs)("tr",{style:{border:"none"},children:[(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Returns"}),":"]})}),(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsx)(r.p,{children:"A list of dict dataset replicas."})})]})]})})]}),"\n",(0,l.jsx)(r.h2,{id:"add_bad_pfns",children:"add_bad_pfns"}),"\n",(0,l.jsxs)("span",{style:{"white-space":"pre"},children:[(0,l.jsx)(r.p,{children:"Declare a list of bad replicas."}),(0,l.jsx)("table",{style:{border:"none"},children:(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{style:{border:"none"},children:[(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Arguments"}),":"]})}),(0,l.jsxs)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:[(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"pfns"}),": The list of PFNs."]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"reason"}),": The reason of the loss."]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"state"}),": The state of the replica. Either BAD, SUSPICIOUS, TEMPORARY_UNAVAILABLE"]}),(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"expires_at"}),": Specify a timeout for the TEMPORARY_UNAVAILABLE replicas. None for BAD files."]})]})]}),(0,l.jsxs)("tr",{style:{border:"none"},children:[(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Returns"}),":"]})}),(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsx)(r.p,{children:"True if PFNs were created successfully."})})]})]})})]}),"\n",(0,l.jsx)(r.h2,{id:"set_tombstone",children:"set_tombstone"}),"\n",(0,l.jsxs)("span",{style:{"white-space":"pre"},children:[(0,l.jsx)(r.p,{children:"Set a tombstone on a list of replicas."}),(0,l.jsx)("table",{style:{border:"none"},children:(0,l.jsx)("tbody",{children:(0,l.jsxs)("tr",{style:{border:"none"},children:[(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Arguments"}),":"]})}),(0,l.jsx)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"},children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"replicas"}),": list of replicas."]})})]})})})]})]})}function h(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,l.jsx)(r,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},28453:(e,r,s)=>{s.d(r,{R:()=>o,x:()=>d});var n=s(96540);const l={},i=n.createContext(l);function o(e){const r=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:o(e.components),n.createElement(i.Provider,{value:r},e.children)}}}]);